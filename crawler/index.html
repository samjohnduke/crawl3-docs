



<!DOCTYPE html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
        <meta name="description" content="Crawl 3 User guide and documentation">
      
      
        <link rel="canonical" href="https://samjohnduke.github.io/crawl3-docs/crawler/">
      
      
        <meta name="author" content="Sam Duke">
      
      
        <meta name="lang:clipboard.copy" content="Copy to clipboard">
      
        <meta name="lang:clipboard.copied" content="Copied to clipboard">
      
        <meta name="lang:search.language" content="en">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="No matching documents">
      
        <meta name="lang:search.result.one" content="1 matching document">
      
        <meta name="lang:search.result.other" content="# matching documents">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-0.17.2, mkdocs-material-2.6.6">
    
    
      
        <title>Crawler - Crawl 3</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/application.78aab2dc.css">
      
        <link rel="stylesheet" href="../assets/stylesheets/application-palette.6079476c.css">
      
    
    
      <script src="../assets/javascripts/modernizr.1aa3b519.js"></script>
    
    
      <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
      
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
      <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    
    
    
  </head>
  
    
    
    <body dir="ltr" data-md-color-primary="green" data-md-color-accent="green">
  
    <svg class="md-svg">
      <defs>
        
        
          <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448"
    viewBox="0 0 416 448" id="github">
  <path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19-18.125
        8.5-18.125-8.5-10.75-19-3.125-20.5 3.125-20.5 10.75-19 18.125-8.5
        18.125 8.5 10.75 19 3.125 20.5zM320 304q0 10-3.125 20.5t-10.75
        19-18.125 8.5-18.125-8.5-10.75-19-3.125-20.5 3.125-20.5 10.75-19
        18.125-8.5 18.125 8.5 10.75 19 3.125 20.5zM360
        304q0-30-17.25-51t-46.75-21q-10.25 0-48.75 5.25-17.75 2.75-39.25
        2.75t-39.25-2.75q-38-5.25-48.75-5.25-29.5 0-46.75 21t-17.25 51q0 22 8
        38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0
        37.25-1.75t35-7.375 30.5-15 20.25-25.75 8-38.375zM416 260q0 51.75-15.25
        82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5-41.75
        1.125q-19.5 0-35.5-0.75t-36.875-3.125-38.125-7.5-34.25-12.875-30.25-20.25-21.5-28.75q-15.5-30.75-15.5-82.75
        0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25
        30.875q36.75-8.75 77.25-8.75 37 0 70 8 26.25-20.5
        46.75-30.25t47.25-9.75q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34
        99.5z" />
</svg>
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="drawer">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="search">
    <label class="md-overlay" data-md-component="overlay" for="drawer"></label>
    
      <a href="#crawler" tabindex="1" class="md-skip">
        Skip to content
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="https://samjohnduke.github.io/crawl3-docs" title="Crawl 3" class="md-header-nav__button md-logo">
          
            <i class="md-icon"></i>
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            
              <span class="md-header-nav__topic">
                Crawl 3
              </span>
              <span class="md-header-nav__topic">
                Crawler
              </span>
            
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          
            <label class="md-icon md-icon--search md-header-nav__button" for="search"></label>
            
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
          
        
      </div>
      
        <div class="md-flex__cell md-flex__cell--shrink">
          <div class="md-header-nav__source">
            


  


  <a href="https://github.com/samjohnduke/crawl3-docs/" title="Go to repository" class="md-source" data-md-source="github">
    
      <div class="md-source__icon">
        <svg viewBox="0 0 24 24" width="24" height="24">
          <use xlink:href="#github" width="24" height="24"></use>
        </svg>
      </div>
    
    <div class="md-source__repository">
      samjohnduke/crawl3-docs
    </div>
  </a>

          </div>
        </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
      <main class="md-main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="drawer">
    <span class="md-nav__button md-logo">
      
        <i class="md-icon"></i>
      
    </span>
    Crawl 3
  </label>
  
    <div class="md-nav__source">
      


  


  <a href="https://github.com/samjohnduke/crawl3-docs/" title="Go to repository" class="md-source" data-md-source="github">
    
      <div class="md-source__icon">
        <svg viewBox="0 0 24 24" width="24" height="24">
          <use xlink:href="#github" width="24" height="24"></use>
        </svg>
      </div>
    
    <div class="md-source__repository">
      samjohnduke/crawl3-docs
    </div>
  </a>

    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href=".." title="Home" class="md-nav__link">
      Home
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../getting-started/" title="Getting Started" class="md-nav__link">
      Getting Started
    </a>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3" checked>
    
    <label class="md-nav__link" for="nav-3">
      Introduction
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-3">
        Introduction
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="toc">
        Crawler
      </label>
    
    <a href="./" title="Crawler" class="md-nav__link md-nav__link--active">
      Crawler
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#public-interfaces" title="Public Interfaces" class="md-nav__link">
    Public Interfaces
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#service" title="Service" class="md-nav__link">
    Service
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#transport" title="Transport" class="md-nav__link">
    Transport
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#client" title="Client" class="md-nav__link">
    Client
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#listener" title="Listener" class="md-nav__link">
    Listener
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#instrument" title="Instrument" class="md-nav__link">
    Instrument
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#worker" title="Worker" class="md-nav__link">
    Worker
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#important-structs" title="Important Structs" class="md-nav__link">
    Important Structs
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#defaultworker" title="DefaultWorker" class="md-nav__link">
    DefaultWorker
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#workeropts" title="WorkerOpts" class="md-nav__link">
    WorkerOpts
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dispatcher" title="Dispatcher" class="md-nav__link">
    Dispatcher
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#crawl" title="Crawl" class="md-nav__link">
    Crawl
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#creating-the-service" title="Creating the service" class="md-nav__link">
    Creating the service
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#service-options" title="Service Options" class="md-nav__link">
    Service Options
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#logger" title="Logger" class="md-nav__link">
    Logger
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#instrument_1" title="Instrument" class="md-nav__link">
    Instrument
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#extractors" title="Extractors" class="md-nav__link">
    Extractors
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#worker-factory-invoker" title="Worker Factory Invoker" class="md-nav__link">
    Worker Factory Invoker
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
    
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../extractors/" title="Extractors" class="md-nav__link">
      Extractors
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../schedular/" title="Schedular" class="md-nav__link">
      Schedular
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../aggregator/" title="Aggregator" class="md-nav__link">
      Aggregator
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../report-query/" title="Reporting" class="md-nav__link">
      Reporting
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4" type="checkbox" id="nav-4">
    
    <label class="md-nav__link" for="nav-4">
      Advanced
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-4">
        Advanced
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../run/" title="Running" class="md-nav__link">
      Running
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../faq/" title="FAQ" class="md-nav__link">
      FAQ
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-6" type="checkbox" id="nav-6">
    
    <label class="md-nav__link" for="nav-6">
      About
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-6">
        About
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../about/about/" title="Objective" class="md-nav__link">
      Objective
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../about/license/" title="License" class="md-nav__link">
      License
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#public-interfaces" title="Public Interfaces" class="md-nav__link">
    Public Interfaces
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#service" title="Service" class="md-nav__link">
    Service
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#transport" title="Transport" class="md-nav__link">
    Transport
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#client" title="Client" class="md-nav__link">
    Client
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#listener" title="Listener" class="md-nav__link">
    Listener
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#instrument" title="Instrument" class="md-nav__link">
    Instrument
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#worker" title="Worker" class="md-nav__link">
    Worker
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#important-structs" title="Important Structs" class="md-nav__link">
    Important Structs
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#defaultworker" title="DefaultWorker" class="md-nav__link">
    DefaultWorker
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#workeropts" title="WorkerOpts" class="md-nav__link">
    WorkerOpts
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dispatcher" title="Dispatcher" class="md-nav__link">
    Dispatcher
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#crawl" title="Crawl" class="md-nav__link">
    Crawl
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#creating-the-service" title="Creating the service" class="md-nav__link">
    Creating the service
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#service-options" title="Service Options" class="md-nav__link">
    Service Options
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#logger" title="Logger" class="md-nav__link">
    Logger
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#instrument_1" title="Instrument" class="md-nav__link">
    Instrument
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#extractors" title="Extractors" class="md-nav__link">
    Extractors
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#worker-factory-invoker" title="Worker Factory Invoker" class="md-nav__link">
    Worker Factory Invoker
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/samjohnduke/crawl3-docs/edit/master/docs/crawler.md" title="Edit this page" class="md-icon md-content__icon">&#xE3C9;</a>
                
                
                <h1 id="crawler">Crawler<a class="headerlink" href="#crawler" title="Permanent link">&para;</a></h1>
<p>The core function of any web scraper is to go out and collect a webpage and perform some 
analysis on it, hopefully returning meaning content. The crawler performs this specific 
function. By utilising a dispatch process for workers, with a process for custom extractors
so that users of the system can customize the behaviour of the crawler, the core functions
are abstracted from them in a way that enable the crawler is be scaled both horizontally 
and vertically to maximise throughput</p>
<h2 id="public-interfaces">Public Interfaces<a class="headerlink" href="#public-interfaces" title="Permanent link">&para;</a></h2>
<h3 id="service">Service<a class="headerlink" href="#service" title="Permanent link">&para;</a></h3>
<p>The service interface has 3 methods, <code>Crawl</code>, <code>CrawlAsync</code>, <code>CrawlProgress</code>. These methods recieve the 
request from another component (such as the schedular) to crawl a url. CrawlProgress will return the 
current progress of a crawl, as it may be queued when underload. There is only one implementation of 
the service, however you could in theory write your own.</p>
<h3 id="transport">Transport<a class="headerlink" href="#transport" title="Permanent link">&para;</a></h3>
<p>The transport receives a service and binds it to the outside world, translating the transport layer into 
a call to the appropriate service method. There is currently only one implementation of the transport via
the nats messaging bus, however a http interface is in progress.</p>
<h3 id="client">Client<a class="headerlink" href="#client" title="Permanent link">&para;</a></h3>
<p>The client mirrors the service, and connects the to transport. The transport then passes on the call 
to the service and returns the result. The client can be used by the schedulars, or by other tools
to crawl webpages. </p>
<h3 id="listener">Listener<a class="headerlink" href="#listener" title="Permanent link">&para;</a></h3>
<p>The listener provides a tap on the crawl that receives complete crawls through the transport. The 
current implementation is via nats</p>
<h3 id="instrument">Instrument<a class="headerlink" href="#instrument" title="Permanent link">&para;</a></h3>
<p>The instrument interface provides a means to monitor the crawler, and the other components but included
here for simplicity. The interface has 3 methods, modeled off the prometheus monitoring tool, and can 
connected to prometheus as an implementation of instrument.</p>
<h3 id="worker">Worker<a class="headerlink" href="#worker" title="Permanent link">&para;</a></h3>
<p>A worker DOES. It has a Start, Stop and Do method that performs work. You can customize the behaviour, but
by default it crawls and extracts data from the url provided to the Do method.</p>
<h2 id="important-structs">Important Structs<a class="headerlink" href="#important-structs" title="Permanent link">&para;</a></h2>
<p>There are a number of important structs that are used throughout the crawler.</p>
<h3 id="defaultworker">DefaultWorker<a class="headerlink" href="#defaultworker" title="Permanent link">&para;</a></h3>
<p>The base unit for crawling, it registers itself for work and then when chosen, will execute
a crawl. </p>
<h3 id="workeropts">WorkerOpts<a class="headerlink" href="#workeropts" title="Permanent link">&para;</a></h3>
<p>The default options passed to a worker on creation through the worker factory. Includes
logger, instrument and extractors</p>
<h3 id="dispatcher">Dispatcher<a class="headerlink" href="#dispatcher" title="Permanent link">&para;</a></h3>
<p>Receives work from the service and hands it off to workers that it is responsible for managing.</p>
<h2 id="crawl">Crawl<a class="headerlink" href="#crawl" title="Permanent link">&para;</a></h2>
<p>A data struct that holds all the information about a url received, the time it takes to complete 
and data that it collects</p>
<h2 id="creating-the-service">Creating the service<a class="headerlink" href="#creating-the-service" title="Permanent link">&para;</a></h2>
<p>The Default service has the following signature. </p>
<div class="codehilite"><pre><span></span><span class="nx">New</span><span class="p">(</span><span class="nx">opts</span> <span class="nx">ServiceOpts</span><span class="p">,</span> <span class="nx">workerFactoryInv</span> <span class="nx">WorkerFactoryInvoker</span><span class="p">)</span> <span class="p">(</span><span class="nx">Service</span><span class="p">,</span> <span class="kt">error</span><span class="p">)</span> 
</pre></div>


<p>You need to pass 2 different configuration items. The first is any options that setup the service, the second
is a function that returns a factory. It allows you to create a fully customizable worker. These are separated
as you can pass an empty set of options, and optional worker factory and the defaults will be used.</p>
<h3 id="service-options">Service Options<a class="headerlink" href="#service-options" title="Permanent link">&para;</a></h3>
<div class="codehilite"><pre><span></span><span class="kd">type</span> <span class="nx">ServiceOpts</span> <span class="kd">struct</span> <span class="p">{</span>
    <span class="nx">Logger</span>      <span class="o">*</span><span class="nx">log</span><span class="p">.</span><span class="nx">Logger</span>
    <span class="nx">Instrument</span>  <span class="nx">Instrument</span>
    <span class="nx">Extractors</span>  <span class="nx">extractors</span>
    <span class="nx">WorkerCount</span> <span class="kt">int</span>
<span class="p">}</span>
</pre></div>


<h4 id="logger">Logger<a class="headerlink" href="#logger" title="Permanent link">&para;</a></h4>
<p>The logger is what the application uses to dump data that describes the crawller running. The default logs to 
stdout using the standard log package options.</p>
<h4 id="instrument_1">Instrument<a class="headerlink" href="#instrument_1" title="Permanent link">&para;</a></h4>
<p>The instrument is used to monitor both workers and jobs, as well as the rates for both network and CPU load 
the workers are using (based on time). The default is to use an in memory instrument that stores the measurements
in a go struct</p>
<h4 id="extractors">Extractors<a class="headerlink" href="#extractors" title="Permanent link">&para;</a></h4>
<p>The extractors are an interface. You can read more about the extractors in the next page, but you need to set 
the custom extractors here for the workers to use. The default is to use an empty object that responds as nil 
for all domains</p>
<h3 id="worker-factory-invoker">Worker Factory Invoker<a class="headerlink" href="#worker-factory-invoker" title="Permanent link">&para;</a></h3>
<div class="codehilite"><pre><span></span><span class="kd">type</span> <span class="nx">WorkerFactoryInvoker</span> <span class="kd">func</span><span class="p">(</span><span class="nx">WorkerOpts</span><span class="p">)</span> <span class="nx">WorkerFactoryFunc</span>
<span class="kd">type</span> <span class="nx">WorkerFactoryFunc</span> <span class="kd">func</span><span class="p">(</span><span class="kd">chan</span> <span class="kd">chan</span> <span class="o">*</span><span class="nx">Crawl</span><span class="p">)</span> <span class="nx">Worker</span>
</pre></div>


<p>The Worker factory invoker is a function to add default WorkerOpts that it creates. This allows 
a base implementation to not require applying the function to the application and have it work, 
but at the same time allowing you to overide the function that the dispatcher calls to create the 
worker. Confusing yes, but also extensible - Definitly needs re-thinking.</p>
                
                  
                
              
              
                
              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="../getting-started/" title="Getting Started" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Getting Started
              </span>
            </div>
          </a>
        
        
          <a href="../extractors/" title="Extractors" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Extractors
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
          <div class="md-footer-copyright__highlight">
            Copyright &copy; 2018 Sam Duke
          </div>
        
        powered by
        <a href="http://www.mkdocs.org">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/">
          Material for MkDocs</a>
      </div>
      
        
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../assets/javascripts/application.02434462.js"></script>
      
      <script>app.initialize({version:"0.17.2",url:{base:".."}})</script>
      
    
    
      
    
  </body>
</html>